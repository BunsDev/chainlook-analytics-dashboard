{
  "title": "Uniswap V3",
  "widgets": [
    {
      "widget": {
        "title": "Data Source",
        "type": "text",
        "text": {
          "message": "This is a Uniswap v3 dashboard based on subgraph messari/uniswap-v3-ethereum."
        }
      },
      "layout": {
        "x": 0,
        "y": 0,
        "w": 2,
        "h": 1
      }
    },
    {
      "widget": {
        "title": "Total Value Locked",
        "type": "metric",
        "metric": {
          "dataKey": "totalValueLockedUSD",
          "unit": "USD",
          "transform": "bigDecimal"
        },
        "data": {
          "subGraphId": "messari/uniswap-v3-ethereum",
          "entity": "financialsDailySnapshots",
          "filters": {
            "orderDirection": "desc",
            "orderBy": "timestamp",
            "first": 1
          }
        }
      },
      "layout": {
        "x": 2,
        "y": 0,
        "w": 2,
        "h": 1
      }
    },
    {
      "widget": {
        "title": "Total Revenue",
        "type": "metric",
        "metric": {
          "dataKey": "cumulativeTotalRevenueUSD",
          "unit": "USD",
          "transform": "compactNumber"
        },
        "data": {
          "subGraphId": "messari/uniswap-v3-ethereum",
          "entity": "financialsDailySnapshots",
          "filters": {
            "orderDirection": "desc",
            "orderBy": "timestamp",
            "first": 1
          }
        }
      },
      "layout": {
        "x": 4,
        "y": 0,
        "w": 2,
        "h": 1
      }
    },
    {
      "widget": {
        "title": "Total Pool Count",
        "type": "metric",
        "metric": {
          "dataKey": "totalPoolCount",
          "transform": "number"
        },
        "data": {
          "subGraphId": "messari/uniswap-v3-ethereum",
          "entity": "usageMetricsDailySnapshots",
          "filters": {
            "orderDirection": "desc",
            "orderBy": "timestamp",
            "first": 1
          }
        }
      },
      "layout": {
        "x": 6,
        "y": 0,
        "w": 2,
        "h": 1
      }
    },
    {
      "widget": {
        "title": "Cumulative Volume - Last 6 Months",
        "type": "chart",
        "data": {
          "subGraphId": "messari/uniswap-v3-ethereum",
          "entity": "financialsDailySnapshots",
          "filters": {
            "orderDirection": "desc",
            "orderBy": "timestamp",
            "skip": 1,
            "first": 180
          }
        },
        "chart": {
          "xAxis": {
            "dataKey": "timestamp",
            "transform": "dateMMMdd"
          },
          "yAxis": {
            "transform": "compactNumber"
          },
          "areas": [
            {
              "dataKey": "dailyVolumeUSD",
              "label": "Cumulative Volume (USD)"
            }
          ]
        }
      },
      "layout": {
        "x": 0,
        "y": 1,
        "w": 8,
        "h": 4,
        "minW": 4
      }
    },
    {
      "widget": {
        "title": "Top pools of the day",
        "type": "pieChart",
        "data": {
          "subGraphId": "messari/uniswap-v3-ethereum",
          "entity": "liquidityPoolDailySnapshots",
          "filters": {
            "orderDirection": "desc",
            "orderBy": "dailyVolumeUSD",
            "skip": 1,
            "first": 10,
            "where": {
              "timestamp_gte": "$startOfDay"
            }
          }
        },
        "pieChart": {
          "dataKey": "dailyVolumeUSD",
          "nameKey": "pool.symbol"
        }
      },
      "layout": {
        "x": 0,
        "y": 1,
        "w": 3,
        "h": 4,
        "minW": 2
      }
    },
    {
      "widget": {
        "title": "Usage Trend - Last 30 Days",
        "type": "chart",
        "data": {
          "subGraphId": "messari/uniswap-v3-ethereum",
          "entity": "usageMetricsDailySnapshots",
          "filters": {
            "orderDirection": "desc",
            "orderBy": "timestamp",
            "skip": 1,
            "first": 30
          }
        },
        "chart": {
          "xAxis": {
            "dataKey": "timestamp",
            "transform": "dateMMMdd"
          },
          "yAxis": {
            "transform": "number"
          },
          "lines": [
            {
              "dataKey": "dailyActiveUsers",
              "label": "Daily Active Users"
            },
            {
              "dataKey": "dailySwapCount",
              "label": "Daily Swap Count"
            }
          ]
        }
      },
      "layout": {
        "x": 3,
        "y": 1,
        "w": 5,
        "h": 4,
        "minW": 4
      }
    },
    {
      "layout": {
        "x": 0,
        "y": 1,
        "w": 8,
        "h": 4,
        "minW": 6
      },
      "widget": {
        "title": "Liquidity Pools (Last 7 Days)",
        "type": "table",
        "data": {
          "subGraphId": "messari/uniswap-v3-ethereum",
          "entity": "liquidityPoolDailySnapshots",
          "filters": {
            "orderDirection": "desc",
            "orderBy": "dailyVolumeUSD",
            "skip": 1,
            "first": 100,
            "where": {
              "timestamp_gte": "$startOfLast7D"
            }
          },
          "group": {
            "key": "pool.symbol",
            "aggregations": {
              "dailyVolumeUSD": "sum",
              "dailySupplySideRevenueUSD": "sum"
            }
          }
        },
        "table": {
          "columns": [
            {
              "dataKey": "pool.symbol",
              "label": "Pool"
            },
            {
              "dataKey": "dailyVolumeUSD",
              "label": "Volume (USD)",
              "transform": "number"
            },
            {
              "dataKey": "totalValueLockedUSD",
              "label": "TVL (USD)",
              "transform": "number"
            },
            {
              "dataKey": "dailyTotalRevenueUSD",
              "label": "Revenue (USD)",
              "transform": "number"
            }
          ]
        }
      }
    }
  ]
}